<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Energy Scale Comparison</title>
    <link rel="stylesheet" href="css/styles.css" />
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
  </head>
  <body>
    <header>
      <h1>Energy Scale Comparison</h1>
      Compare energies across units; adjust scale, units, and ranges. Hover over any setting for tooltips.
    </header>

    <div class="app-shell">
      <aside class="sidebar" aria-label="Settings">
        <section class="control-panel" aria-label="Controls">
          <div class="group">
            <strong>Scale</strong>
            <label class="control radio">
              <input type="radio" name="scale" value="log10" id="scale-log" checked />
              <span>log10</span>
            </label>
            <label class="control radio">
              <input type="radio" name="scale" value="linear" id="scale-linear" />
              <span>linear</span>
            </label>
          </div>

          <div class="group">
            <strong>Primary axis</strong>
            <label class="control">
              <span>Unit</span>
              <select id="primary-unit">
                <option value="J" selected>J (joule)</option>
                <option value="eV">eV (electronvolt)</option>
                <option value="Hz">Hz (hertz)</option>
                <option value="K">K (kelvin)</option>
                <option value="m">m (wavelength)</option>
                <option value="m^-1">m⁻¹ (wavenumber)</option>
                <option value="rad/m">rad/m (ang. wavenumber)</option>
                <option value="erg">erg (cgs)</option>
                <option value="kg">kg (mass)</option>
                <option value="s">s (time)</option>
                <option value="Wh">Wh (watt-hour)</option>
                <option value="Ws">Ws (watt-second)</option>
                <option value="cal">cal (calorie)</option>
                <option value="BTU">BTU (British thermal unit)</option>
                <option value="foe">foe (10^51 erg)</option>
                <option value="tTNT">t TNT (tonne TNT)</option>
              </select>
            </label>
            <label class="control">
              <span>Prefix</span>
              <select id="primary-prefix">
                <option value="">(none)</option>
                <option value="Z">Z (zetta)</option>
                <option value="E">E (exa)</option>
                <option value="P">P (peta)</option>
                <option value="T">T (tera)</option>
                <option value="G">G (giga)</option>
                <option value="M">M (mega)</option>
                <option value="k">k (kilo)</option>
                <option value="c">c (centi)</option>
                <option value="m">m (milli)</option>
                <option value="µ">µ (micro)</option>
                <option value="n">n (nano)</option>
                <option value="p">p (pico)</option>
                <option value="f">f (femto)</option>
              </select>
            </label>
            <div class="range-row" title="Entered values are in primary prefix+unit. Log10 scale uses powers of ten, linear scale uses absolute values. That is, log10 cannot show negative values. Similarly, linear scale might not work properly with negative or zero values when units inverse to energy (time, wavelength) are selected.">
              <label class="control">
                <span>Min</span>
                <input type="number" id="range-min" step="any" />
              </label>
              <label class="control">
                <span>Max</span>
                <input type="number" id="range-max" step="any" />
              </label>
              <button id="apply-minmax" type="button">Apply Min/Max</button>
            </div>
            <div class="range-row" title="Entered values are in primary prefix+unit. Log10 scale uses powers of ten, linear scale uses absolute values. That is, log10 cannot show negative values. Similarly, linear scale might not work properly with negative or zero values when units inverse to energy (time, wavelength) are selected.">
              <label class="control">
                <span>Center</span>
                <input type="number" id="range-center" step="any" />
              </label>
              <label class="control">
                <span>Span</span>
                <input type="number" id="range-span" step="any" />
              </label>
              <button id="apply-centerspan" type="button">Apply Center/Span</button>
            </div>
          </div>

          <div class="group">
            <strong>Ticking</strong>
            <label class="control checkbox" title="(log10 scale only) Toggles decade ticks for secondary axes.">
              <input type="checkbox" id="independent-ticks" />
              <span>Independent log ticks</span>
            </label>
            <label class="control" title="(linear scale only; 0, 1 = auto) Sets number of ticks over all axes.">
              <span>Linear tick count</span>
              <input type="number" id="independent-tick-count" min="0" step="1" value="0" />
            </label>
          </div>

          <div class="group">
            <strong>Secondary axes</strong>
            <div id="axes-list" class="axes-list"></div>
            <button id="add-axis" type="button">+ Add axis</button>
          </div>

          <div class="group">
            <strong>Figure</strong>
            <label class="control" title="Figure width as % of available space.">
              <span>Width (%)</span>
              <input type="range" id="figure-width" min="20" max="100" step="1" value="100" />
              <span id="figure-width-value" aria-live="polite" style="min-width:3ch; text-align:right;">100</span>
            </label>
            <label class="control" title="Plot font family">
              <span>Font</span>
              <select id="figure-font">
                <option value="system-ui" selected>System UI</option>
                <option value="Segoe UI">Segoe UI</option>
                <option value="Roboto">Roboto</option>
                <option value="Helvetica">Helvetica</option>
                <option value="Arial">Arial</option>
                <option value="Georgia">Georgia</option>
                <option value="Times New Roman">Times New Roman</option>
              </select>
            </label>
            <label class="control" title="Exported figure format.">
              <span>Export</span>
              <select id="export-format">
                <option value="png" selected>PNG</option>
                <option value="svg">SVG</option>
              </select>
            </label>
            <label class="control" title="DPI resolution for PNG export.">
              <span>DPI</span>
              <input type="number" id="export-dpi" min="72" max="600" step="1" value="150" />
            </label>
            <button id="export-figure" type="button">Export</button>
            <label class="control" title="Toggles axis title labels like 'Energy (J)'.">
              <input type="checkbox" id="show-axis-labels" checked />
              <span>Show axis labels</span>
            </label>
            <label class="control" title="Toggles unit symbols in tick labels.">
              <input type="checkbox" id="tick-labels-include-units" checked />
              <span>Include units in tick labels</span>
            </label>
            <label class="control" title="Number of decimal places in scientific notation.">
              <span>Decimals</span>
              <input type="number" id="format-decimals" min="0" max="6" step="1" value="2" />
            </label>
          </div>
        </section>
        <div class="sidebar-footer">
          <a class="repo-link" href="https://github.com/GiovanniKl/EnergyScaleApp" target="_blank" rel="noopener" aria-label="Open GitHub repository">
            <svg class="repo-link__icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 .5C5.73.5.9 5.34.9 11.62c0 4.87 3.16 9 7.54 10.45.55.1.76-.24.76-.53 0-.26-.01-.94-.02-1.85-3.07.67-3.72-1.48-3.72-1.48-.5-1.27-1.22-1.61-1.22-1.61-1-.68.07-.66.07-.66 1.1.08 1.68 1.13 1.68 1.13.98 1.67 2.57 1.19 3.2.91.1-.72.38-1.2.69-1.48-2.45-.28-5.02-1.23-5.02-5.49 0-1.21.43-2.2 1.13-2.98-.11-.28-.49-1.41.11-2.94 0 0 .93-.3 3.05 1.14.88-.24 1.82-.36 2.76-.36.94 0 1.88.12 2.76.36 2.12-1.44 3.05-1.14 3.05-1.14.6 1.53.22 2.66.11 2.94.7.78 1.13 1.77 1.13 2.98 0 4.27-2.58 5.21-5.04 5.49.39.33.73.98.73 1.98 0 1.43-.01 2.58-.01 2.93 0 .29.2.64.77.53 4.38-1.45 7.54-5.58 7.54-10.45C23.1 5.34 18.27.5 12 .5z"/>
            </svg>
            <span class="repo-link__text">View repository</span>
          </a>
        </div>
      </aside>

      <main class="main-panel">
        <div id="plot" aria-label="Energy scale plot"></div>
      </main>
    </div>

    <script src="js/conversions.js"></script>
    <script src="js/plot.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
